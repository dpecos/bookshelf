<div class="row">
  <div class="col-md-12">

    <h2 class="pull-left">Books shelf</h2>

    <ul class="nav nav-pills pull-right" style="margin-top: 1em">
      <li>
        <%= link_to 'Back', books_path %>
      </li>
    </ul>

  </div>
</div>

<div id="shelf">
   <% @books.each do |book| %>
      <div class="book">
         <% if not book.cover.nil?  %>
            <%= image_tag("books/#{book.id}/cover", :alt => "Image", :class => "cover") %>
         <% end %>
         <div class="details">
            <span><%= link_to book.title, book %></span>
            <span><%= (book.collection.present?) ? link_to(book.collection.name, book.collection) : "" %><span/>
            <span><%= link_to book.category.name, book.category %></span>
            <span><%= (book.author.present?) ? link_to(book.author, url_for(params.merge(:author => book.author))) : ""  %> 
               <%= (book.year.present?) ? link_to("(#{book.year})", url_for(params.merge(:year => book.year))) : "" %></span>
         </div>
      </div>
   <% end %>
</div>
